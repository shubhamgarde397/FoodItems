<div class="well">

  <br />
  <div class="row">
    <div class="col-lg-12">
      <div class="form-group row">
        <div class="col-sm-3">
          <select class="form-control" id="partyType" [(ngModel)]="trucknoid" (change)="findOption()" id="truckNoone">
            <option *ngFor="let i of displayoptions;let j = index;" value={{i.value}} [hidden]="i.disabled">{{i.viewvalue}}</option>
          </select>
          </div>
          <div class="col-sm-3">
          <select class="form-control" [(ngModel)]="buttonOptionPartyType">
            <option value="NRCM">NRCM</option>
          <option value="NR">NR</option>
          <option value="SNL">SNL</option>
          </select>
        </div>

        <div class="col-sm-3"
          *ngIf="buttonOption==='2'">
          <input type="date" class="form-control" [(ngModel)]="dynDate">
        </div>

        <div class="col-sm-3" *ngIf="buttonOption==='3'">
          <select class="form-control" [(ngModel)]="selectedmy">
            <option *ngFor="let i of buttons;let j = index;" value={{i.value}}>{{i.viewValue}}</option>
          </select>
        </div>

        <div class="col-sm-3" *ngIf="buttonOption==='5'">
          <input type="number" class="form-control" [(ngModel)]="bylrno" placeholder="Lrno">
        </div>
      </div>

      <div class="row">
        <div class="col-sm-4">
          <button mat-raised-button (click)="find()" class="btn btn-primary" style="width: 100%;margin-top: 10px;">
            Get Data
          </button>
        </div>
      </div>

      <h3>{{todaysDate|date:'dd-MM-yyyy'}}</h3>
      <table class="table" style="width:100%" align="center"
        *ngIf="buttonOption!=='3'">
        <thead align="center" style="font-weight: bold">
          <tr class=table-header>
            <th>Srno</th>
            <th>TurnBook-Loading</th>
            <th >TruckNo</th>
            <th>Party-Place-Name</th>
            <th>LRNO</th>
            <th>Poch</th>
            <!-- <th *ngIf="buttonOption=='4'">Undo</th> -->
            
          </tr>
        </thead>

        <tbody align="center">
          <tr *ngFor="let i of turnbooklist;let j = index">

            <td>{{j+1}}</td>
            <td>{{i.turnbookDate|date:'dd-MM-yyyy'}}<br>{{i.loadingDate|date:'dd-MM-yyyy'}}<br>{{i.typeOfLoad}}</td>

            <td *ngIf="i.ownerDetails[0]!==undefined">
              <div class="col-sm-6">
                <div class="row">
                  <div class="col-sm-6" data-toggle="modal" data-target="#myModal" (click)="showDatabyid(i,j,1)">
                    {{i.ownerDetails[0].truckno}}
                  </div>
                </div>
              </div>
            </td>
            <td *ngIf="i.ownerDetails[0]===undefined"></td>

            <td *ngIf="i.villageDetails[0]!==undefined">{{i.partyType}}-{{i.villageDetails[0].shortName}}<br><span *ngIf="i.villageDetails2[0]!==undefined">{{i.villageDetails2[0].shortName}}</span>-{{i.partyDetails[0].shortName}}</td>
            <td *ngIf="i.villageDetails[0]==undefined"></td>

            <td>{{i.lrno}}</td>

            <td>{{i.pochDate|date:'dd-MM-yyyy'}} : {{i.pgno}} : {{i.givenDate|date:'dd-MM-yyyy'}}</td>


            <!-- <td *ngIf="buttonOption=='4'">
              <button mat-raised-button type="button" (click)="showDatabyid2('uncancel',i)"
                class="btn-primary btn-sm btn-just-icon">
                <i class="material-icons">undo</i>
              </button>
            </td> -->
          </tr>
        </tbody>
      </table>

      <div *ngIf="buttonOption=='3'">
        <div class="col-sm-12" *ngIf="!showbuttonOption8" style="font-weight: bold;font-size: 8vh;">
          {{show8Msg}}
        </div>
        <div class="col-sm-12" *ngIf="showbuttonOption8">
          <form [formGroup]="myFormGroup1" (ngSubmit)="change(myFormGroup1)">
            <div class="form-group row">
  
              <div class="col-xs-2">
                <label for="loadingDate"> Loading Date</label>
              </div>
  
              <div class="col-xs-3">
                <select id="loadingDateDynamic" class="form-control " formControlName="loadingDateDynamic"
                  (change)="getOtherDetails()">
                  <option>Blank</option>
                  <option *ngFor="let i of turnbooklistnew;let j = index;" value={{i.loadingDate}}>{{i.loadingDate}}
                  </option>
                </select>
              </div>
  
  
            </div>
  
  
  
            <div class="form-group row" *ngIf="showbuttonOption82">
  
              <div class="col-xs-2">
                <label for="truckNo"> Truckno-Type </label>
              </div>
  
              <div class="col-xs-3">
                <select id="" class="form-control" formControlName="truckno" (change)="getOtherDetails2()">
                  <option>Blank</option>
                  <option *ngFor="let i of turnbooklist_trucks;let j = index;" value={{i.truckno}}>{{i.truckno}}-{{i.typeOfVehiclefirst}}
                  </option>
                </select>
              </div>
  
              
  
            </div>
  

            <div class="form-group row" *ngIf="showbuttonOption821">
  
              <div class="col-xs-2">
                <label for="typeOfLoad"> Load Type</label>
              </div>
  
              <div class="col-xs-3">
                <select class="form-control" formControlName="typeOfLoad">
                  <option *ngFor="let i of typeofloads;let k = index;" value={{i}}>{{i}}</option>
                </select>
              </div>
              <div class="col-sm-1"></div>
              <div class="col-sm-3">
                <input type="text" value={{monthlybyseriesData.typeOfLoad}} class="form-control" disabled>
              </div>
  
  
            </div>

  
          
            <div class="form-group row" *ngIf="showbuttonOption82111">
  
              <div class="col-xs-2">
                <label for="lrno"> Lrno </label>
              </div>
  
              <div class="col-xs-3">
                <input type="number" id="lrno" class="form-control" formControlName="lrno">
              </div>
  
              <div class="col-xs-1">
                <div [hidden]="myFormGroup1.controls.lrno.valid">
                  <font color="red">
                    <span class="glyphicon glyphicon-remove"></span>
                  </font>
                </div>
              </div>
              <div class="col-sm-3">
                <input type="text" value={{monthlybyseriesData.lrno}} class="form-control" disabled>
              </div>
            </div>
  
  
            <div class="row" *ngIf="showbuttonOption82">
              <div class="form-group" class="col-xs-2"></div>
              <div class="form-group" class="col-xs-1">
                <button type="submit" class="btn btn-primary" [disabled]='!myFormGroup.valid'>
                  <i class="material-icons">send</i>
                </button>
              </div>
            </div>
  
          </form>
        </div>
      </div>


    </div>
  </div>
</div>

<div class="container">
  
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
  
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Edit for {{updateTruck.truckno}}</h4>
        </div>
        <div class="modal-body">
          <form [formGroup]="myFormGroup"submitted=true (ngSubmit)="edit2()" enctype="multipart/form data" action="/">
    <div class="well">
      <div class="row form-group">
        <div class="col-sm-12">
          Loading Date : 
          <input type="date" class="form-control" formControlName="loadingDate" placeholder="Date">
        </div>
      </div>
      <div class="row form-group">
        <div class="col-sm-6">
          Party Type : {{partyType}}
          <select class="form-control" formControlName="partyType" (change)="changeDivPartyWise()">
            <option value="NRCM">NRCM</option>
            <option value="NR">NR</option>
            <option value="SNL">SNL</option>
          </select>
        </div>

      </div>
<div *ngIf="showEditOtherDiv">
      <div class="row form-group">
      <div class="col-sm-6">
        Party : {{partyToUI}}
      <select id="partyName" class="form-control " formControlName="partyName" (change)="setPartyName()">
        <option selected disabled value={{partyid}}>{{party}}</option>
        <option *ngFor="let i of parties;let j = index;" value={{i._id}}+{{j}}>{{i.name}}</option>
      </select>
    </div>
    <div class="col-sm-6">
      Old Party : 
      <input type="text" id="partyName" class="form-control" formControlName="partyName" disabled>
      </div>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-sm-6">
        Place : 
        <select id="place" class="form-control" formControlName="place">
          <option disabled value="{{placeid}}" selected>{{place}}</option>
          <option *ngFor="let own of villagelist;let j = index;" value="{{own}}">{{own}}</option>
        </select>
        </div>
        <div class="col-sm-6">
          Old Place : 
        <input type="text" id="place" class="form-control" formControlName="place" disabled>
        </div>
</div>
<div class="form-group row">
        <div class="col-sm-6">
          Place 2 : 
          <select id="place2" class="form-control" formControlName="place2">
            <option disabled value="{{placeid2}}" selected>{{place2}}</option>
            <option *ngFor="let own of villagelist;let j = index;" value="{{own}}">{{own}}</option>
          </select>
          </div>
          <div class="col-sm-6">
            Old Place 2 : 
          <input type="text" id="place" class="form-control" formControlName="place2" disabled>
          </div>
    </div>


      <div class="row form-group">
        <div class="col-sm-4">
        <button type="submit" class="btn btn-primary" [disabled]='!myFormGroup.valid'>
          <i class="material-icons">send</i>
        </button>
      </div>
      <div class="col-sm-4">
        <button type="button" class="btn btn-danger" (click)="delete()">
         Delete
        </button>
      </div>
      </div>
    </div>
    </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>